<?xml version="1.0" encoding="UTF-8"?>
<templates xml:space="preserve">

    <div
        class="o_mail_component_attachment"
        owl="1"
        t-att-class="{
            o_basic_layout: options.layout === 'basic',
            o_card_layout: options.layout === 'card',
            o_editable: options.editable,
            o_uploading: props.attachment.uploading,
            o_viewable: props.attachment.isViewable,
        }"
        t-att-title="props.attachment.displayName"
        t-name="mail.component.Attachment">
        <t t-if="options.layout === 'basic'">
            <div
                class="o_mail_component_attachment__image"
                t-att-class="{
                    o_viewable: props.attachment.isViewable,
                }"
                t-att-data-mimetype="props.attachment.mimetype"
                t-att-href="attachmentUrl"
                t-if="props.attachment.fileType !== 'image'"
                t-on-click="_onClickImage"/>
            <img
                class="o_mail_component_attachment__image"
                t-att-class="{
                    o_viewable: props.attachment.isViewable,
                }"
                t-attf-src="web/image/{{ props.attachment.id }}/160x160"
                t-else=""
                t-on-click="_onClickImage"/>
        </t>
        <t t-elif="options.layout === 'card'">
            <div
                class="o_mail_component_attachment__image"
                t-att-class="{
                    o_viewable: props.attachment.isViewable,
                }"
                t-att-data-mimetype="props.attachment.mimetype"
                t-att-href="attachmentUrl"
                t-att-style="props.attachment.fileType === 'image' ? 'background-image:url(/web/image/' + props.attachment.id + '/38x38/?crop=true' : ''"
                t-on-click="_onClickImage"/>
            <div
                class="o_mail_component_attachment__main"
                t-if="options.layoutCardLabel">
                <div
                    class="o_mail_component_attachment__filename">
                    <t t-esc="props.attachment.displayFilename"/>
                </div>
                <div
                    class="o_mail_component_attachment__extension">
                    <t t-esc="props.attachment.extension"/>
                </div>
            </div>
            <div
                class="o_mail_component_attachment__aside">
                <div
                    aria-label="Uploading"
                    class="
                        o_mail_component_attachment__asideItem
                        o_mail_component_attachment__asideItemUploading"
                    title="Uploading"
                    t-if="props.attachment.uploading"
                    t-key="'uploading'">
                    <i
                        class="
                            fa
                            fa-spin
                            fa-spinner"/>
                </div>
                <t t-if="props.attachment.uploaded">
                    <div
                        aria-label="Uploaded"
                        class="
                            o_mail_component_attachment__asideItem
                            o_mail_component_attachment__asideItemUploaded"
                        title="Uploaded"
                        t-key="'uploaded'">
                        <i class="
                            fa
                            fa-check"/>
                    </div>
                    <div
                        aria-label="Remove"
                        class="
                            o_mail_component_attachment__asideItem
                            o_mail_component_attachment__asideItemUnlink"
                        title="Remove"
                        t-key="'unlink'"
                        t-on-click="_onClickUnlink">
                        <i class="fa fa-times"/>
                    </div>
                </t>
            </div>
        </t>
    </div>

</templates>
