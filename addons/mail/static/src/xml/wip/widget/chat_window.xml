<?xml version="1.0" encoding="UTF-8"?>
<templates xml:space="preserve">

   <div t-name="mail.wip.widget.ChatWindow" owl="1"
        class="o_chat_window"
        t-attf-class="{{ props.item === 'new_message' ? 'o_new_message' : '' }}  {{ folded ? 'o_folded' : '' }} {{ state.focused ? 'o_focused' : '' }}"
        t-att-data-id="id"
        t-attf-data-thread-lid="{{ props.thread ? props.thread.lid : '' }}"
        t-on-click="_onClick">
      <t t-widget="Header"
         item="props.item"
         options="options"
         t-on-clicked="_onClickedHeader"
         t-on-close="_onCloseHeader"
         t-on-shift-left="_onShiftLeftHeader"
         t-on-shift-right="_onShiftRightHeader"/>
      <t t-if="props.thread">
         <t t-widget="Thread"
            t-ref="thread"
            class="o_thread"
            options="threadOptions"
            threadLID="props.item"
            t-on-focusin="_onFocusinThread"/>
      </t>
      <div t-else=""
           class="o_selection"
           t-key="'selection'">
         <span class="o_label">
            To:
         </span>
         <t t-widget="AutocompleteInput"
            html="true"
            select="_onAutocompleteSelect"
            source="_onAutocompleteSource"
            t-ref="input"/>
      </div>
    </div>

</templates>
